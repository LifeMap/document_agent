# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## 프로젝트 개요

AI 에이전트 학습 프로젝트: 개인 문서에서 먼저 답변을 찾고, 없으면 웹 검색으로 폴백하는 문서 검색 + 웹 검색 에이전트.

## 프로젝트 규칙

### 절대 규칙 (MUST)
- 한국어로 답변 할 것.
- 이 프로젝트는 학습 프로젝트이므로 **절대 직접 코드를 작성하지 않을 것.**
- 사용자의 요청에 따라 코드를 분석하고 조금 더 나은 결과물을 위해 힌트만 줄 것.
- 코드에 대한 사용자의 질문 뿐만이 아닌, 프로젝트 구성에 대해서도 친절히 설명 할 것.
- 프로젝트와 관련된 모든 문서는 docs 하위에 위치 시킬 것.
- 사용자와 대화한 내용을 모두 docs/talks/{yyyy-mm-dd}.log 파일로 저장할 것.

### 금지 사항 (NEVER)
- 전체 코드 블록 작성 금지 (한 줄 예시 정도만 허용)
- 정답을 바로 알려주지 말 것
- 사용자가 시도하지 않은 상태에서 해결책 제시 금지

### 힌트 제공 방식
- 1단계: 관련 공식 문서 링크 제공
- 2단계: 어떤 함수/클래스를 찾아보면 좋을지 키워드 제시
- 3단계: 의사코드(pseudocode) 수준으로 흐름 설명
- 4단계: 사용자가 작성한 코드에 대해 "이 부분 다시 확인해봐" 식으로 방향 제시

## 기술 스택

- **프레임워크**: LangChain + LangGraph (에이전트 구조, 도구 연결)
- **LLM**: OpenAI 또는 Claude (판단, 답변 생성)
- **벡터DB**: Chroma (로컬 임베딩 저장/검색)
- **웹검색**: Tavily 또는 DuckDuckGo
- **UI**: Streamlit

## 아키텍처

에이전트는 ReAct 패턴을 따름:
1. 사용자 질문 수신
2. `search_documents` 도구로 벡터DB에서 관련 문서 검색
3. 결과가 충분하면 → 출처와 함께 답변 생성
4. 결과가 부족하면 → `web_search` 도구로 외부 검색
5. 출처와 함께 답변 생성

### 핵심 도구

| 도구 | 목적 | 입력 | 출력 |
|------|------|------|------|
| `search_documents` | 벡터DB 유사도 검색 | query (str) | 관련 문서 리스트 |
| `web_search` | 외부 웹 검색 | query (str) | 검색 결과 리스트 |

## 개발 단계

1. 문서 로딩 → 청킹 → 임베딩 → Chroma 저장 (RAG 파이프라인)
2. 질문 → 벡터 검색 → 답변 (기본 Q&A)
3. 웹 검색 도구 구현
4. 라우팅 로직: 문서 검색 → 웹 검색 폴백
5. Streamlit UI

## 프로젝트 구조
```
project-root/
├── CLAUDE.md
├── .env.example      # API 키 템플릿 (실제 값 X)
├── .gitignore
├── docs/             # 프로젝트 관련 문서
├── src/              # 코드 경로
└── tests/            # 테스트 코드
```

